# 🕷️ ウェブスクレイピングおよびブラウザ自動化ツール包括的要覧

本資料は、ウェブスクレイピングおよび自動化処理に供される主要なライブラリならびにツール群を体系化したものです。JavaScript実行の要否、処理速度、検知回避の必要性といったプロジェクト要件に基づき、最適なツール選定を行うための指針を提供します。

## 📑 目次

1. [ブラウザ自動化ツール (動的サイト・SPA向け)](#1-ブラウザ自動化ツール-動的サイトspa向け)
2. [HTTPリクエスト・解析ツール (静的サイト向け)](#2-httpリクエスト解析ツール-静的サイト向け)
3. [大規模フレームワーク (クローラー向け)](#3-大規模フレームワーク-クローラー向け)
4. [拡張・特殊用途ツール (回避・デバッグ用)](#4-拡張特殊用途ツール-回避デバッグ用)
5. [✅ 比較総括：推奨される選定指針](#5-比較総括推奨される選定指針)

---

## 1. 🖥️ ブラウザ自動化ツール (動的サイト・SPA向け)

JavaScriptによって動的に生成されるコンテンツ（React、Vue等）や、複雑な認証プロセスを伴うウェブサイトを対象とする場合に適用されるツール群です。

| 名称 | 開発元 | 言語 | 特徴・優位性 | 制限事項・課題 |
| :--- | :--- | :--- | :--- | :--- |
| **Selenium 4** | コミュニティ | Python, Java,<br>JS, C# 等 | **【業界標準】**<br>・豊富な技術情報とドキュメント<br>・主要ブラウザを網羅的にサポート<br>・Ver.4よりCDP対応で機能拡張 | ・実行速度が相対的に緩慢<br>・ドライバー管理等の環境構築に工数を要する |
| **Playwright** | Microsoft | Python, Node.js,<br>.NET, Java | **【主要推奨】**<br>・高速かつ安定した動作<br>・ブラウザバイナリの自動取得<br>・高度な自動待機 (Auto-wait) と並列実行 | ・新興技術のため、Seleniumに比べ知見が限定的<br>（急速に標準化が進行中） |
| **Puppeteer** | Google | Node.js<br>(Python版: Pyppeteer) | **【Chrome特化】**<br>・Google純正による高い安定性<br>・Chrome/Chromium制御に特化 | ・原則Chrome系のみサポート<br>・Python環境では非公式ポートが必要 |

### 🧭 選定指針

> **Pythonを用いたモダンな記述・処理速度を重視**
> 👉 **[Playwright](https://playwright.dev/)** の採用を推奨

> **情報の網羅性・既存資産の活用を重視**
> 👉 **[Selenium](https://www.selenium.dev/)** の採用が妥当

> **Node.js環境下でChromeのみを対象とする**
> 👉 **[Puppeteer](https://pptr.dev/)** の採用が適切

---

## 2. ⚡ HTTPリクエスト・解析ツール (静的サイト向け)

ブラウザを起動せず、サーバーと直接通信を行う手法です。高速処理が可能ですが、JavaScriptは実行されない点に留意が必要です。

| 名称 | 役割 | 特徴 |
| :--- | :--- | :--- |
| **Requests** | 通信 | **Python標準のHTTPライブラリ**<br>簡潔かつ明瞭な記述が可能で、圧倒的な利用実績を持つ。 |
| **Beautiful Soup 4** | 解析 | **HTML/XML解析ライブラリ**<br>構造が不完全なHTMLに対しても堅牢な解析が可能。通常、Requestsと併用される。 |
| **lxml** | 解析 | **高速解析ライブラリ**<br>C言語で記述されており、Beautiful Soupよりも高速。XPathによる指定が可能。 |

---

## 3. 🏗️ 大規模フレームワーク (クローラー向け)

| 名称 | 特徴 |
| :--- | :--- |
| **Scrapy** | **【高性能クローラー】**<br>Python製の包括的スクレイピングフレームワーク。非同期処理の実装により、数万ページ規模のデータ収集において卓越した速度を発揮する。<br>※習得には一定の学習コストを要する。 |

---

## 4. 🛡️ 拡張・特殊用途ツール (回避・デバッグ用)

| 名称 | ベース | 用途・特徴 |
| :--- | :--- | :--- |
| **Selenium-Wire** | Selenium | **【通信傍受】**<br>Seleniumにプロキシ機能を付加し、HTTPリクエスト/レスポンス（APIのJSONデータ等）の傍受・変更を可能にする。 |
| **undetected-chromedriver** | Selenium | **【Bot検知回避】**<br>Cloudflare等によるBot対策システムを回避するため、Selenium特有の識別子（フィンガープリント）を除去した改変ドライバー。 |
| **SeleniumBase** | Selenium | **【統合フレームワーク】**<br>Seleniumをラップして操作性を向上させつつ、Bot検知回避機能も統合した高機能ツール。 |
| **MechanicalSoup** | Requests | **【ブラウザ模倣】**<br>ブラウザを使わずに、RequestsとBeautiful Soupを用いてブラウザの挙動（フォーム入力やボタン操作等）を模倣する軽量ライブラリ。 |

---

## 5. ✅ 比較総括：推奨される選定指針

プロジェクトの目的に応じた最適なツールの組み合わせは以下の通りです。

1.  **簡易的なデータ抽出を迅速に行いたい**
    * 👉 **Requests + Beautiful Soup** (静的サイト最速・最軽量)

2.  **ボタン操作、認証、JS実行が必要なサイト**
    * 👉 **Playwright** (新規習得に推奨)
    * 👉 **Selenium** (日本語情報の豊富さを重視)

3.  **API通信(JSON)を直接取得したい**
    * 👉 **Selenium-Wire** (または Playwright の `page.on("response")` )

4.  **数万件規模のデータを定期的に収集したい**
    * 👉 **Scrapy** (速度と運用管理機能が不可欠)

5.  **Bot検知システムによる遮断が発生する**
    * 👉 **undetected-chromedriver** または **SeleniumBase**
